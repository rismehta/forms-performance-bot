## Form Performance Analysis Report

> **Automated analysis of Adaptive Form performance**

**Analysis Time:** 2025-12-09T11:36:54.353Z
**Before:** `https://main--test-repo.aem.live/`
**After:** `https://feature--test-repo.aem.live/`

---

### Form Structure

| Metric | Before | After | Change |
|--------|--------|-------|--------|
| Components | 13 | 13 | undefined  |
| Event Handlers | 1 | 1 | undefined  |
| Max Nesting Depth | 2 | 2 | undefined  |

### Form Events Analysis

 No API calls found in initialize events.

###  Hidden Fields Analysis

**Total Hidden Fields:** 7
**Unnecessary Hidden Fields:** 6

**Changes:**
- Hidden fields: undefined 
- Unnecessary fields: undefined 

####  Unnecessary Hidden Fields

**6 field(s) are always hidden and never made visible:**

`hiddenPanel`, `unusedField`, `dataStorage`, `userId`, `sessionId`, `email`

** Recommendation:** Remove these fields from the form JSON and store as Form variables instead. Hidden fields that are never shown bloat the DOM (each adds ~50-100 bytes) and slow down rendering.

###  Rule Performance Analysis

**Total Rules:** 4
**Fields with Rules:** 4
**Circular Dependencies:** 1

####  Critical: Circular Dependencies Found

**Cycle 1:** `fieldA → fieldA → fieldB → fieldC`

** Recommendation:** Break circular dependencies immediately - these cause infinite loops and severely impact performance.

####  New Circular Dependencies Introduced

- `fieldA → fieldA → fieldB → fieldC`

###  Form Rendering Performance

**Rendered Form Analysis:**
- Total DOM Elements: 27
- Hidden Elements: 0
- Images: 3 (1 without lazy loading)
- Blocking Scripts: 1

**Changes:**
- Images: undefined 
- Non-lazy images: undefined 
- DOM elements: undefined 
- Blocking scripts: undefined 

 No form rendering issues detected.

###  Form CSS Analysis

**Files Analyzed:** 1

** Critical Issues:**

- **sample-form.css** - css-background-image
- **sample-form.css** - css-background-image
- **sample-form.css** - css-import-blocking

###  Custom Functions Analysis

**Custom Functions Analyzed:** 1

####  Violations Detected

** 1 DOM Access(es) in Custom Functions:**

- `validateUserName` in `sample-functions.js`
  - Remove DOM access from custom functions. Use form data model and rules engine for UI updates. DOM manipulations should be handled in custom component, not custom functions.


---
###  Overall Assessment

**Performance Impact:** Critical Issues Detected 

** Critical Issues:**
- 1 circular dependency - can cause infinite loops
- 3 critical CSS issue(s)
- 1 @import statement(s) blocking rendering
- 1 custom function(s) accessing DOM directly

** Warnings:**
- 6 unnecessary hidden field(s) bloating DOM
- 2 CSS background-image(s) should use Image component

** Recommendations:**
- Remove hidden fields that are never shown - use Form variables instead
- Break circular dependencies immediately - these cause severe performance issues
- Replace CSS background images with <Image> component for lazy loading and optimization
- Replace @import with <link> tags or bundle CSS
- Remove DOM access from custom functions - use form data model instead

---
*Generated by AEM Forms Performance Analyzer*